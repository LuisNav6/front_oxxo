<app-bar></app-bar>
<div class="container mt-4 shadow-lg p-3 mb-5 bg-body rounded">
  <div class="text-center">
    <img src="../../../assets/images/logo_white.png" alt="Imagen descriptiva" class="img-fluid">
    <h1 class="mt-2">Reportes</h1>
  </div>
  
  <div class="d-flex justify-content-end">
    <h4>Total en Ventas: ${{getTotalSales()}}</h4>
  </div>
  <table class="table table-hover text-center">
    <thead>
      <tr>
        <th>ID</th>
        <th>Sucursal</th>
        <th>Fecha</th>
        <th>Total</th>
        <th>Vendedor</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let sale of paginatedSales(); let i = index">
        <td>{{sale._id}}</td>
        <td>{{sale.branch_office_id}}</td>
        <td>{{formatDate(sale.sale_date)}}</td>
        <td>${{sale.total}}</td>
        <td>{{sale.seller}}</td>
      </tr>
    </tbody>
  </table>
  <div class="card flex justify-content-center">
  <p-paginator (onPageChange)="onPageChange($event)" [first]="first" [rows]="rows" [totalRecords]="filteredSales.length" [rowsPerPageOptions]="[10, 20, 30]"></p-paginator>
</div>
  <div class="container shadow-lg p-3 mb-5 bg-body rounded" *ngIf="rol == 'admin'">
    <p-chart type="line" [data]="dataAdmin" [options]="optionsAdmin"></p-chart>
  </div>
  <div class="container shadow-lg p-3 mb-5 bg-body rounded" *ngIf="rol == 'soporte'">
    <p-chart type="bar" [data]="dataSoporte" [options]="optionsSoporte"></p-chart>
</div>
</div>
